{"ast":null,"code":"import useSWR from 'swr';\nimport apiCodeContest from '../services/apiCodeContest';\nexport function useFetch(url) {\n  const {\n    data,\n    error,\n    mutate\n  } = useSWR(url, async url => {\n    const config = {\n      headers: {\n        Authorization: `token ${process.env.REACT_APP_TOKEN}`,\n        Accept: 'application/vnd.github.preview+json'\n      }\n    };\n    const response = await apiCodeContest.get(url, config);\n    return response.data;\n  }, {\n    revalidateOnFocus: true\n  });\n  return {\n    data,\n    error,\n    mutate\n  };\n}","map":{"version":3,"sources":["/home/ubuntu/Desktop/code_contest/src/hooks/useFetch.ts"],"names":["useSWR","apiCodeContest","useFetch","url","data","error","mutate","config","headers","Authorization","process","env","REACT_APP_TOKEN","Accept","response","get","revalidateOnFocus"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,KAAnB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AAEA,OAAO,SAASC,QAAT,CAA4CC,GAA5C,EAAyD;AAC5D,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,MAA0BN,MAAM,CAAcG,GAAd,EAAmB,MAAMA,GAAN,IAAa;AAClE,UAAMI,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,SAAQC,OAAO,CAACC,GAAR,CAAYC,eAAgB,EAD/C;AAELC,QAAAA,MAAM,EAAE;AAFH;AADE,KAAf;AAMA,UAAMC,QAAQ,GAAG,MAAMb,cAAc,CAACc,GAAf,CAAmBZ,GAAnB,EAAwBI,MAAxB,CAAvB;AACA,WAAOO,QAAQ,CAACV,IAAhB;AACH,GATqC,EASnC;AACCY,IAAAA,iBAAiB,EAAE;AADpB,GATmC,CAAtC;AAaA,SAAO;AAAEZ,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,GAAP;AACH","sourcesContent":["import useSWR from 'swr'\nimport apiCodeContest from '../services/apiCodeContest'\n\nexport function useFetch<Data = any, Error = any> (url: string) {\n    const { data, error, mutate } = useSWR<Data, Error>(url, async url => {\n        const config = {\n            headers: {\n                Authorization: `token ${process.env.REACT_APP_TOKEN}`,\n                Accept: 'application/vnd.github.preview+json'\n            }\n        }\n        const response = await apiCodeContest.get(url, config)\n        return response.data\n    }, {\n        revalidateOnFocus: true\n    })\n\n    return { data, error, mutate }\n}\n"]},"metadata":{},"sourceType":"module"}