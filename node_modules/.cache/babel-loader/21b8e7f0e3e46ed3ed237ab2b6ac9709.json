{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/Desktop/code_contest/src/components/Authentication/index.tsx\";\nimport React from 'react';\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Auth } from './styles';\n\nconst Authentication = () => {\n  const authentication = useSelector(state => state.data.authenticated);\n  const dispatch = useDispatch();\n\n  const login = response => {\n    console.log('start login');\n    const newState = {\n      data: {\n        authenticated: true,\n        user: {\n          id: response.googleId,\n          name: response.profileObj.givenName,\n          surname: response.profileObj.familyName,\n          image: response.profileObj.ImageUrl\n        },\n        token: response.tokenId\n      }\n    };\n    dispatch({\n      type: 'LOGIN',\n      data: newState\n    });\n    console.log('end login');\n  };\n\n  const badResponseGoogle = response => {\n    console.log('start bad response');\n    console.log(response);\n    dispatch({\n      type: 'BAD_RESPONSE'\n    });\n    console.log('start bad response');\n  };\n\n  const logout = () => {\n    console.log('start logout');\n    dispatch({\n      type: 'LOGOUT',\n      data: null\n    });\n    console.log('end logout');\n  };\n\n  return /*#__PURE__*/React.createElement(Auth, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, authentication ? /*#__PURE__*/React.createElement(GoogleLogout, {\n    clientId: \"156221636932-bvl7ocr3bhrkikgcqc99k4g1a1s0sla1.apps.googleusercontent.com\",\n    buttonText: \"Logout\",\n    onLogoutSuccess: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: \"156221636932-bvl7ocr3bhrkikgcqc99k4g1a1s0sla1.apps.googleusercontent.com\",\n    buttonText: \"Login\",\n    onSuccess: login,\n    onFailure: badResponseGoogle,\n    cookiePolicy: 'single_host_origin',\n    isSignedIn: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Authentication;","map":{"version":3,"sources":["/home/ubuntu/Desktop/code_contest/src/components/Authentication/index.tsx"],"names":["React","GoogleLogin","GoogleLogout","useDispatch","useSelector","Auth","Authentication","authentication","state","data","authenticated","dispatch","login","response","console","log","newState","user","id","googleId","name","profileObj","givenName","surname","familyName","image","ImageUrl","token","tokenId","type","badResponseGoogle","logout"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,oBAA1C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SAASC,IAAT,QAAqB,UAArB;;AAEA,MAAMC,cAAwB,GAAG,MAAM;AACrC,QAAMC,cAAc,GAAGH,WAAW,CAAEI,KAAD,IAAgBA,KAAK,CAACC,IAAN,CAAWC,aAA5B,CAAlC;AACA,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;;AAEA,QAAMS,KAAK,GAAIC,QAAD,IAAmB;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,UAAMC,QAAQ,GAAG;AACfP,MAAAA,IAAI,EAAE;AACJC,QAAAA,aAAa,EAAE,IADX;AAEJO,QAAAA,IAAI,EAAE;AACJC,UAAAA,EAAE,EAAEL,QAAQ,CAACM,QADT;AAEJC,UAAAA,IAAI,EAAEP,QAAQ,CAACQ,UAAT,CAAoBC,SAFtB;AAGJC,UAAAA,OAAO,EAAEV,QAAQ,CAACQ,UAAT,CAAoBG,UAHzB;AAIJC,UAAAA,KAAK,EAAEZ,QAAQ,CAACQ,UAAT,CAAoBK;AAJvB,SAFF;AAQJC,QAAAA,KAAK,EAAEd,QAAQ,CAACe;AARZ;AADS,KAAjB;AAYAjB,IAAAA,QAAQ,CAAC;AAAEkB,MAAAA,IAAI,EAAE,OAAR;AAAiBpB,MAAAA,IAAI,EAAEO;AAAvB,KAAD,CAAR;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,GAhBD;;AAkBA,QAAMe,iBAAiB,GAAIjB,QAAD,IAAmB;AAC3CC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAF,IAAAA,QAAQ,CAAC;AAAEkB,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACAf,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD,GALD;;AAOA,QAAMgB,MAAM,GAAG,MAAM;AACnBjB,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAJ,IAAAA,QAAQ,CAAC;AAAEkB,MAAAA,IAAI,EAAE,QAAR;AAAkBpB,MAAAA,IAAI,EAAE;AAAxB,KAAD,CAAR;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,GAJD;;AAMA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,cAAc,gBACb,oBAAC,YAAD;AACE,IAAA,QAAQ,EAAC,0EADX;AAEE,IAAA,UAAU,EAAC,QAFb;AAGE,IAAA,eAAe,EAAEwB,MAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADa,gBAOb,oBAAC,WAAD;AACE,IAAA,QAAQ,EAAC,0EADX;AAEE,IAAA,UAAU,EAAC,OAFb;AAGE,IAAA,SAAS,EAAEnB,KAHb;AAIE,IAAA,SAAS,EAAEkB,iBAJb;AAKE,IAAA,YAAY,EAAE,oBALhB;AAME,IAAA,UAAU,EAAE,IANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,CADF;AAoBD,CAvDD;;AAyDA,eAAexB,cAAf","sourcesContent":["import React from 'react'\n\nimport { GoogleLogin, GoogleLogout } from 'react-google-login'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Auth } from './styles'\n\nconst Authentication: React.FC = () => {\n  const authentication = useSelector((state: any) => state.data.authenticated)\n  const dispatch = useDispatch()\n\n  const login = (response: any) => {\n    console.log('start login')\n    const newState = {\n      data: {\n        authenticated: true,\n        user: {\n          id: response.googleId,\n          name: response.profileObj.givenName,\n          surname: response.profileObj.familyName,\n          image: response.profileObj.ImageUrl\n        },\n        token: response.tokenId\n      }\n    }\n    dispatch({ type: 'LOGIN', data: newState })\n    console.log('end login')\n  }\n\n  const badResponseGoogle = (response: any) => {\n    console.log('start bad response')\n    console.log(response)\n    dispatch({ type: 'BAD_RESPONSE' })\n    console.log('start bad response')\n  }\n\n  const logout = () => {\n    console.log('start logout')\n    dispatch({ type: 'LOGOUT', data: null })\n    console.log('end logout')\n  }\n\n  return (\n    <Auth>\n      {authentication ? (\n        <GoogleLogout\n          clientId='156221636932-bvl7ocr3bhrkikgcqc99k4g1a1s0sla1.apps.googleusercontent.com'\n          buttonText='Logout'\n          onLogoutSuccess={logout}\n        ></GoogleLogout>\n      ) : (\n        <GoogleLogin\n          clientId='156221636932-bvl7ocr3bhrkikgcqc99k4g1a1s0sla1.apps.googleusercontent.com'\n          buttonText='Login'\n          onSuccess={login}\n          onFailure={badResponseGoogle}\n          cookiePolicy={'single_host_origin'}\n          isSignedIn={true}\n        />\n      )}\n    </Auth>\n  )\n}\n\nexport default Authentication\n"]},"metadata":{},"sourceType":"module"}