{"ast":null,"code":"import useSWR from 'swr';\nimport apiCodeContest from '../services/apiCodeContest';\nexport function useFetch(url) {\n  const {\n    data,\n    error,\n    mutate\n  } = useSWR(url, async url => {\n    const config = {\n      headers: {\n        Authorization: `token ${process.env.REACT_APP_TOKEN}`,\n        Accept: 'application/vnd.github.preview+json'\n      }\n    };\n    const response = await apiCodeContest.get(url, config);\n    return response.data;\n  }, {\n    refreshInterval: 5000\n  });\n  return {\n    data,\n    error,\n    mutate\n  };\n}","map":{"version":3,"sources":["/home/ubuntu/Desktop/code_contest/src/hooks/useFetch.ts"],"names":["useSWR","apiCodeContest","useFetch","url","data","error","mutate","config","headers","Authorization","process","env","REACT_APP_TOKEN","Accept","response","get","refreshInterval"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,KAAnB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AAEA,OAAO,SAASC,QAAT,CAA4CC,GAA5C,EAAyD;AAC9D,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,MAA0BN,MAAM,CAAcG,GAAd,EAAmB,MAAMA,GAAN,IAAa;AACpE,UAAMI,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,SAAQC,OAAO,CAACC,GAAR,CAAYC,eAAgB,EAD7C;AAEPC,QAAAA,MAAM,EAAE;AAFD;AADI,KAAf;AAMA,UAAMC,QAAQ,GAAG,MAAMb,cAAc,CAACc,GAAf,CAAmBZ,GAAnB,EAAwBI,MAAxB,CAAvB;AACA,WAAOO,QAAQ,CAACV,IAAhB;AACD,GATqC,EASnC;AACDY,IAAAA,eAAe,EAAE;AADhB,GATmC,CAAtC;AAaA,SAAO;AAAEZ,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,GAAP;AACD","sourcesContent":["import useSWR from 'swr'\nimport apiCodeContest from '../services/apiCodeContest'\n\nexport function useFetch<Data = any, Error = any> (url: string) {\n  const { data, error, mutate } = useSWR<Data, Error>(url, async url => {\n    const config = {\n      headers: {\n        Authorization: `token ${process.env.REACT_APP_TOKEN}`,\n        Accept: 'application/vnd.github.preview+json'\n      }\n    }\n    const response = await apiCodeContest.get(url, config)\n    return response.data\n  }, {\n    refreshInterval: 5000\n  })\n\n  return { data, error, mutate }\n}\n"]},"metadata":{},"sourceType":"module"}