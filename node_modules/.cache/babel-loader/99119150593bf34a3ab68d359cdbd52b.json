{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/Desktop/code_contest/src/components/ContestList/index.tsx\";\nimport React, { useCallback, useState } from 'react';\nimport { ContainerList, Category } from './styles';\nimport ChallengeButton from '../ChallengeButton';\nimport ContestButton from '../ContestButton';\nimport { useFetch } from 'src/hooks/useFetch';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst ContestList = () => {\n  const dispatch = useDispatch();\n  const dataAuth = useSelector(state => state.data.auth);\n  const [contestsActive, setContestsActive] = useState([]);\n  const {\n    data\n  } = useFetch('/git/trees/bed6cd92797d728d25ec5b2ecca010f03196cbdb?recursive=\"true\"');\n  const handleSelectChange = useCallback(contest => {\n    const newChallenge = {\n      data: {\n        auth: dataAuth,\n        challenge: {\n          name: `${contest}`\n        }\n      }\n    };\n    dispatch({\n      type: 'CHALLENGE',\n      data: newChallenge\n    });\n  }, [dataAuth, dispatch]);\n\n  const handleVisibleContest = contest => {\n    console.log(contestsActive.indexOf({\n      name: contest\n    }));\n\n    if (contestsActive.includes({\n      name: contest\n    })) {\n      console.log('if');\n      setContestsActive(contestsActive.filter(item => item.name !== contest));\n    } else {\n      console.log('else');\n      setContestsActive(contestsActive => [...contestsActive, {\n        name: contest\n      }]);\n    }\n\n    console.log(contestsActive);\n  };\n\n  return /*#__PURE__*/React.createElement(ContainerList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Category, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Contests\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"listOfContests\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, data === null || data === void 0 ? void 0 : data.tree.filter((contest, i) => {\n    return contest.path.split('/').length === 1 || contest.path.split('/').length === 2 && contest.path.split('/')[1] !== 'requirements.txt';\n  }).map((contest, i) => /*#__PURE__*/React.createElement(React.Fragment, null, contest.path.split('/').length === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    id: i.toString(),\n    onClick: () => handleVisibleContest(contest.path.split('/')[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(ContestButton, {\n    contestName: contest.path,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 14\n    }\n  })) : contest.path.split('/').length === 2 && contestsActive.includes({\n    name: contest.path.split('/')[0]\n  }) ? /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    id: i.toString(),\n    className: contest.path.split('/')[0],\n    onClick: () => handleSelectChange(contest.path),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 121\n    }\n  }, /*#__PURE__*/React.createElement(ChallengeButton, {\n    challengeName: contest.path,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null)))));\n};\n\nexport default ContestList;","map":{"version":3,"sources":["/home/ubuntu/Desktop/code_contest/src/components/ContestList/index.tsx"],"names":["React","useCallback","useState","ContainerList","Category","ChallengeButton","ContestButton","useFetch","useSelector","useDispatch","ContestList","dispatch","dataAuth","state","data","auth","contestsActive","setContestsActive","handleSelectChange","contest","newChallenge","challenge","name","type","handleVisibleContest","console","log","indexOf","includes","filter","item","tree","i","path","split","length","map","toString"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react'\n\nimport { ContainerList, Category } from './styles'\n\nimport ChallengeButton from '../ChallengeButton'\nimport ContestButton from '../ContestButton'\nimport { useFetch } from 'src/hooks/useFetch'\nimport { useSelector, useDispatch } from 'react-redux'\n\ninterface Contest {\n  tree: Challenge []\n}\n\ninterface Challenge {\n  path: string;\n}\n\ninterface ContestActive {\n  name: string\n}\n\nconst ContestList: React.FC = () => {\n  const dispatch = useDispatch()\n  const dataAuth = useSelector((state: any) => state.data.auth)\n  const [contestsActive, setContestsActive] = useState<ContestActive[]>([])\n\n  const { data } = useFetch<Contest>('/git/trees/bed6cd92797d728d25ec5b2ecca010f03196cbdb?recursive=\"true\"')\n  const handleSelectChange = useCallback(\n    (contest: string) => {\n      const newChallenge = {\n        data: {\n          auth: dataAuth,\n          challenge: { name: `${contest}` }\n        }\n      }\n      dispatch({ type: 'CHALLENGE', data: newChallenge })\n    },\n    [dataAuth, dispatch]\n  )\n\n  const handleVisibleContest = (contest: any) => {\n    console.log(contestsActive.indexOf({ name: contest }))\n    if (contestsActive.includes(({ name: contest }))) {\n      console.log('if')\n      setContestsActive(contestsActive.filter(item => item.name !== contest))\n    } else {\n      console.log('else')\n      setContestsActive(contestsActive => [...contestsActive, { name: contest }])\n    }\n    console.log(contestsActive)\n  }\n\n  return (\n    <ContainerList>\n      <Category>\n        <span>Contests</span>\n      </Category>\n      <div id='listOfContests'>\n        {data?.tree.filter((contest, i) => {\n          return (contest.path.split('/').length === 1 || (contest.path.split('/').length === 2 && contest.path.split('/')[1] !== 'requirements.txt'))\n        }).map((contest, i) => (\n          <>\n            {contest.path.split('/').length === 1 ? <div\n              key={i}\n              id={i.toString()}\n              onClick={() => handleVisibleContest(contest.path.split('/')[0])}\n            ><ContestButton contestName={contest.path}></ContestButton></div>\n              : contest.path.split('/').length === 2 && contestsActive.includes({ name: contest.path.split('/')[0] }) ? <div\n                key={i}\n                id={i.toString()}\n                className={contest.path.split('/')[0]}\n                onClick={() => handleSelectChange(contest.path)}\n              >\n                <ChallengeButton\n                  challengeName={contest.path}\n                />\n              </div> : <></>\n            }\n          </>\n        ))}\n      </div>\n    </ContainerList>\n  )\n}\n\nexport default ContestList\n"]},"metadata":{},"sourceType":"module"}