{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Head from 'next/head';\nimport Navbar from '../components/Navbar';\nimport UserList from '../components/UserList';\nimport LoginMessage from '../components/LoginMessage';\nimport ChallengeInfo from '../components/ChallengeInfo';\nimport ChallengeCode from '../components/ChallengeCode';\nimport ContestList from '../components/ContestList';\nimport { Grid, Container } from '../styles/pages/Home';\nimport { useFetch } from '../hooks/useFetch';\nimport { useSelector, useDispatch } from 'react-redux';\n\nvar Home = function Home() {\n  var dispatch = useDispatch();\n  var data = useSelector(function (state) {\n    return state.data;\n  });\n  var userId = useSelector(function (state) {\n    return state.data.auth.user.id;\n  });\n  var authenticated = useSelector(function (state) {\n    return state.data.auth.authenticated;\n  });\n  var selectedChallengeName = useSelector(function (state) {\n    return state.data.selectedChallenge.name;\n  });\n\n  var _useFetch = useFetch('https://code-contest-backend.herokuapp.com/contests/global'),\n      globalScore = _useFetch.data;\n\n  var _useFetch2 = useFetch('https://code-contest-backend.herokuapp.com/contests/user'),\n      listOfUsers = _useFetch2.data;\n\n  var _useFetch3 = useFetch(\"https://code-contest-backend.herokuapp.com/contests/list/\".concat(userId)),\n      challengeList = _useFetch3.data;\n\n  var _useFetch4 = useFetch(\"/contents/\".concat(selectedChallengeName === null || selectedChallengeName === void 0 ? void 0 : selectedChallengeName.split(' ').join('_'), \"/index.md\")),\n      challengeIndex = _useFetch4.data;\n\n  var _useFetch5 = useFetch(\"https://code-contest-backend.herokuapp.com/contests/global/\".concat(selectedChallengeName)),\n      challengeScore = _useFetch5.data;\n\n  var _useFetch6 = useFetch(\"https://code-contest-backend.herokuapp.com/contests/\".concat(userId, \"/\").concat(selectedChallengeName)),\n      userScore = _useFetch6.data;\n\n  var _useFetch7 = useFetch('/git/trees/5c51dbca32b9394fe304b519826c1364806cdb9e?recursive=\"true\"'),\n      dataTree = _useFetch7.data;\n\n  var _useState = useState(false),\n      load = _useState[0],\n      setLoad = _useState[1];\n\n  useEffect(function () {\n    var newData = {\n      data: data\n    };\n    console.log('globalScore ', globalScore);\n    console.log('listOfUsers ', listOfUsers);\n    console.log('challengeScore ', challengeScore);\n    console.log('userScore ', userScore);\n    console.log('challengeList ', challengeList);\n    console.log('dataTree ', dataTree);\n\n    if (globalScore && listOfUsers && challengeScore && userScore && challengeList && dataTree) {\n      newData.data.globalScore = globalScore;\n      newData.data.listOfUsers = listOfUsers;\n      newData.data.challengeScore = challengeScore;\n      newData.data.userScore = userScore;\n      newData.data.challengeList = challengeList;\n      newData.data.tree = dataTree;\n      setLoad(true);\n    }\n\n    if (challengeIndex) {\n      newData.data.challengeIndex = challengeIndex;\n    }\n\n    dispatch({\n      type: 'CHALLENGE',\n      data: newData\n    });\n  }, [globalScore, listOfUsers, challengeScore, userScore, challengeIndex, challengeList, dataTree, dispatch, data]);\n  return __jsx(Grid, null, __jsx(Head, null, __jsx(\"title\", null, \"Code Contest\")), load ? __jsx(React.Fragment, null, __jsx(Navbar, null), __jsx(ContestList, null), __jsx(Container, null, selectedChallengeName && selectedChallengeName.split('/').length > 1 && selectedChallengeName.split('/')[1].length > 1 ? __jsx(React.Fragment, null, __jsx(ChallengeInfo, null), authenticated ? __jsx(ChallengeCode, null) : __jsx(LoginMessage, null)) : __jsx(React.Fragment, null, \"Place home page here!\")), __jsx(UserList, null)) : __jsx(React.Fragment, null));\n};\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}